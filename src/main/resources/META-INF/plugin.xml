<?xml version="1.0" encoding="UTF-8" ?>
<idea-plugin>
    <id>com.wepie.coder.wpcoder</id>
    <name>WP Template Coder</name>
    <vendor email="tianruijie@wepie.com" url="https://www.wepie.com">Wepie</vendor>
    <version>1.1.0</version>
    <idea-version since-build="251" until-build="251.*"/>
    <change-notes><![CDATA[
        <h2>1.1.0</h2>
        <ul>
            <li>Added template sharing feature with remote server</li>
            <li>Added role-based access control for template sharing</li>
            <li>Added template deletion with admin permission</li>
            <li>Improved UI with better organized toolbar</li>
            <li>Added server configuration dialog</li>
        </ul>
        <h2>1.0.2</h2>
        <ul>
            <li>Initial release</li>
            <li>Support import/export file templates</li>
            <li>Support import/export live templates</li>
            <li>Add tool window for quick access</li>
        </ul>
    ]]></change-notes>
    <description><![CDATA[
        Template management plugin for Android Studio with sharing capabilities.<br>
        <br>
        Features:
        <ul>
            <li><b>Local Template Management</b>
                <ul>
                    <li>Quick access to template settings</li>
                    <li>Import/Export templates to/from files</li>
                    <li>Support both File Templates and Live Templates</li>
                </ul>
            </li>
            <li><b>Template Sharing</b>
                <ul>
                    <li>Share templates with team members via remote server</li>
                    <li>Role-based access control (Admin/Writer/Reader)</li>
                    <li>Easy-to-use server configuration</li>
                </ul>
            </li>
            <li><b>User Interface</b>
                <ul>
                    <li>Intuitive tool window with organized toolbar</li>
                    <li>Separate tabs for File Templates and Live Templates</li>
                    <li>Clear visual feedback for all operations</li>
                </ul>
            </li>
        </ul>
        <br>
        Usage:
        <ul>
            <li>Open the WP Coder tool window (View > Tool Windows > WP Coder)</li>
            <li>Switch between File Templates and Live Templates using tabs</li>
            <li>Use toolbar buttons for various operations:
                <ul>
                    <li>Export/Import templates to/from files</li>
                    <li>Share/Get templates from server</li>
                    <li>Configure server settings (requires API key)</li>
                </ul>
            </li>
        </ul>
        <br>
        Server Access Levels:
        <ul>
            <li>Admin: Full access (upload, download, delete)</li>
            <li>Writer: Can upload and download templates</li>
            <li>Reader: Can only download templates</li>
        </ul>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends>org.jetbrains.kotlin</depends>
    <depends>org.jetbrains.android</depends>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true" />
    </extensions>
    
    <resource-bundle>messages.WPCoderBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 注册工具窗口 -->
        <toolWindow
            id="WPCoder"
            anchor="right"
            icon="/icons/pluginIcon.svg"
            factoryClass="com.wepie.coder.wpcoder.window.TemplateToolWindowFactory"
            canCloseContents="false"
            order="last"/>

        <!-- 注册服务 -->
        <applicationService
            serviceImplementation="com.wepie.coder.wpcoder.service.TemplateServerService"/>
    </extensions>

    <actions>
        <group id="WPCoder.TemplateActions" 
               text="WP Template"
               description="WP Template actions"
               popup="true"
               icon="AllIcons.FileTypes.Text">
            <add-to-group group-id="MainMenu" anchor="last"/>
            
            <action id="WPCoder.FileTemplateSettings"
                    class="com.wepie.coder.wpcoder.action.FileTemplateSettingsAction"
                    text="File and Code Templates"
                    description="Open file and code template settings"
                    icon="AllIcons.General.Settings"/>

            <action id="WPCoder.LiveTemplateSettings"
                    class="com.wepie.coder.wpcoder.action.LiveTemplateSettingsAction"
                    text="Live Templates"
                    description="Open live template settings"
                    icon="AllIcons.General.Settings"/>

            <separator/>

            <action id="WPCoder.ImportTemplate"
                    class="com.wepie.coder.wpcoder.action.ImportTemplateAction"
                    text="Import Templates"
                    description="Import code templates"
                    icon="AllIcons.Actions.Download"/>

            <action id="WPCoder.ExportTemplate"
                    class="com.wepie.coder.wpcoder.action.ExportTemplateAction"
                    text="Export File Templates"
                    description="Export file and code templates"
                    icon="AllIcons.Actions.Upload"/>

            <separator/>

            <action id="WPCoder.ImportLiveTemplate"
                    class="com.wepie.coder.wpcoder.action.ImportLiveTemplateAction"
                    text="Import Live Templates"
                    description="Import live templates"
                    icon="AllIcons.Actions.Download"/>

            <action id="WPCoder.ExportLiveTemplate"
                    class="com.wepie.coder.wpcoder.action.ExportLiveTemplateAction"
                    text="Export Live Templates"
                    description="Export live templates"
                    icon="AllIcons.Actions.Upload"/>
        </group>
    </actions>
</idea-plugin>